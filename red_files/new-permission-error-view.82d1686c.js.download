try{window.performance.mark("new-permission-error-view.js:eval-start")}catch(e){}
function e(e){return e&&e.__esModule?e.default:e}function s(e,s,r,t){Object.defineProperty(e,s,{get:r,set:t,enumerable:!0,configurable:!0})}var r=globalThis,t={},i={},a=r.parcelRequire49d7;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in i){var s=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,s.call(r.exports,r,r.exports),r.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,s){i[e]=s},r.parcelRequire49d7=a);var c=a.register;r.lb||(r.lb=new Set,r.bq=[],r.rlb=e=>{r.lb.add(e),r.pq()},r.rwr=(e,s,t)=>{r.bq.push({b:e,r:s,d:t}),r.pq()},r.pq=()=>{var e=r.bq.find(e=>e.d.every(e=>r.lb.has(e)));e&&(r.bq=r.bq.filter(s=>s.b!==e.b),e.r(),r.pq())}),c("i1a7g",function(r,t){s(r.exports,"NewPermissionErrorView",()=>c),s(r.exports,"default",()=>u);var i=a("eJOHy");let c=()=>{let{formatMessage:s}=(0,a("lRq8t").default)(),{showFlag:r}=(0,a("cSXp8").useFlagsService)(),{push:t}=(0,a("83DiZ").useRouterActions)(),{createAnalyticsEvent:c}=(0,a("ftN6c").useAnalyticsEvents)(),u=(0,a("e6YEs").useAccountId)(),l=(0,a("bmoS1").useIssueKey)(),d=(0,a("bNexr").useProjectKey)(l),p=(0,a("bmoS1").useBoardId)(),[m,g]=(0,i.useState)(!1),[f,w]=(0,i.useState)(!1),v=(0,i.useCallback)(async()=>{(0,a("kRgKj").fireUIAnalytics)(c({}),"button clicked","requestProjectAccess"),u&&l&&(g(!0),await (0,a("d6N1A").requestAccess)({accountId:u,projectKey:d,issueKey:l,boardId:p},"/rest/internal/latest/project-access/access-requested"),r({title:a("h5LpJ").messages.requestAccessSuccessTitle,type:"success",isAutoDismiss:!0,messageType:"transactional",messageId:"issue-view-errors.ui.new-permission-error-view.show-flag.success.flag.success.request-access-success",actions:[{content:a("h5LpJ").messages.requestAccessSuccessAction,onClick:()=>{t("/jira/your-work")}}]}),w(!0),g(!1))},[u,l,d,p,r,t,c]);return e(i).createElement(a("kGj4V").ContextualAnalyticsData,{sourceName:n,sourceType:o,attributes:{requestAccessButtonShown:!!u}},e(i).createElement(a("6MnLl").default,{testId:"issue-view-errors.ui.new-permission-error-view.permission-error-view",header:s(a("h5LpJ").messages.permissionErrorHeader),description:s(a("h5LpJ").messages.permissionErrorDescription),renderImage:(0,a("aTJmy").getAkEmptyStateRenderImageFn)(a("bkcPe").default),primaryAction:u&&!f?e(i).createElement(a("5CSKW").default,{appearance:"primary",onClick:v,isLoading:m,interactionName:"jira-issue-view-errors.ui.new-permission-error-view.request-access-button"},s(a("h5LpJ").messages.requestAccessButton)):null}),e(i).createElement(a("eS29z").FireScreenAnalytics,null))};var u=c}),c("bkcPe",function(r,t){s(r.exports,"default",()=>o);var i=a("cfUP4"),c=a("dgAos"),o=(0,a("c4huj").createIllustration)({srcLight:e(c),srcDark:e(i)})}),c("cfUP4",function(e,s){e.exports=new URL("padlock-key-darkmode.78fd8599.svg",import.meta.url).toString()}),c("dgAos",function(e,s){e.exports=new URL("padlock-key.3d73e47c.svg",import.meta.url).toString()}),c("aTJmy",function(r,t){s(r.exports,"getAkEmptyStateRenderImageFn",()=>c);var i=a("eJOHy");function c(s=a("3xT3U").default){return({maxImageWidth:r=160,maxImageHeight:t=160,imageWidth:c,imageHeight:o})=>{let n=(0,i.forwardRef)(({as:s="div",style:c,...o},n)=>e(i).createElement(s,{...o,style:{...c,"--_yv3y2x":(0,a("awdRS").default)(r,"px"),"--_nq7wev":(0,a("awdRS").default)(t,"px")},ref:n,className:(0,a("hcewu").default)(["_1e0c1ule _p12f1x6a _c71lc3ce _19pkidpf _2hwx1wug _otyr1ejb _18u01wug",o.className])}));return e(i).createElement(n,null,e(i).createElement(s,{alt:"",role:"presentation",width:c||"auto",height:o||"auto"}))}}}),c("3xT3U",function(r,t){s(r.exports,"default",()=>o),s(r.exports,"srcLight",()=>e(a("e8HDz"))),s(r.exports,"srcDark",()=>e(a("aiB9q")));var i=a("aiB9q"),c=a("e8HDz"),o=(0,a("c4huj").createIllustration)({srcLight:e(c),srcDark:e(i)})}),c("aiB9q",function(e,s){e.exports=new URL("generic-empty-state-darkmode.27f5dcf1.svg",import.meta.url).toString()}),c("e8HDz",function(e,s){e.exports=new URL("generic-empty-state.1b007192.svg",import.meta.url).toString()});const o="Screen";c("d6N1A",function(e,r){s(e.exports,"requestAccess",()=>t);let t=async(e,s)=>fetch(s||"/rest/internal/latest/project-access/access-requested",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}),c("h5LpJ",function(e,r){s(e.exports,"messages",()=>t);let t=(0,a("7qGN1").defineMessages)({permissionErrorHeader:{id:"issue-view-errors.new-permission-error-view.permission-error-header",defaultMessage:"We can't show this project."},permissionErrorDescription:{id:"issue-view-errors.new-permission-error-view.permission-error-description",defaultMessage:"You don't have permission to view it, or it doesn't exist. Contact your admin to request access."},requestAccessButton:{id:"issue-view-errors.new-permission-error-view.request-access-button",defaultMessage:"Request access"},requestAccessSuccessTitle:{id:"issue-view-errors.new-permission-error-view.request-access-success-title",defaultMessage:"Sent access request to admin"},requestAccessSuccessAction:{id:"issue-view-errors.new-permission-error-view.request-access-success-action",defaultMessage:"View your work"}})});const n="workItemPermissionError";r.rlb("116M9");
try{performance.mark("new-permission-error-view.js:eval-stop")}catch(e){}
//# sourceMappingURL=https://jira-frontend-bifrost.prod-east.frontend.public.atl-paas.net/assets/new-permission-error-view.82d1686c.js.map
